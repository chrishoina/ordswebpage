//v.7.0.5.ui: Dutch & Italian Deployment Fixes 2024/05/06 03:05PM PDT
//v.7.0.4.ui: Dutch and Italian support 2024/04/24 04:45AM PDT
//v.7.0.3.ui: Validation of the EV55 variable commented 2024/04/18 9:36AM PDT
//v.7.0.2.ui: Title Transalations Added & Disclaimer Fixed in Custom Component for de & fr bots 2024/02/12 12:06PM PDT
//v.7.0.1.ui: French and German support 2024/02/07 09:06AM PDT
//v.6.0.2.ui: Spain support 2023/09/11 10:22AM PDT
//v.6.0.1.ui: logs removed 2023/08/07 15:55PM PDT
//v.6.0.ui: LAD countries for modal bot 2023/08/03 11:39AM PDT
//v.5.9.ui: English countries support 2023/05/22 01:46PM PDT
//v.5.8.1.ui: Validation for countrid tag 2023/04/24 09:31AM PDT
//v.5.8.ui: Env variable supports domains different than oracle.com 2023/04/21 12:04PM PDT
//v.5.7.ui: Env variable is set depending on the URL pattern 2023/04/21 09:20AM PDT
//v.5.6.ui: UTAG change: 2023/04/20 08:49AM PDT
//v.5.5.ui: Missing links for Adobe Metrics, close button and Production channels: 2023/04/19 16:16PM PDT
//v.5.4.ui: Adobe Metrics metadata added for missing buttons and links: 2023/04/19 12:40PM PDT
//v.5.3.ui: Chat live with a sales expert and support events added for Adobe Metrics. navTrack call withough S: 2023/04/17 14:56PM PDT
//v.5.2.ui: Chat live with a sales expert and support events added for Adobe Metrics: 2023/04/17 14:07PM PDT
//v.5.1.ui: Country tag validation removed, OSvC issues fixed and embedded forms: 2023/04/05 11:54AM PDT
//v.5.0.ui: Modal changes and country tag validation: 2023/03/27 13:17PM PDT
//v.4.5.ui: Timeout change from 200ms to 1000ms for production deployment: 2023/01/25 14:12AM PDT
//v.4.4.ui: Issue fixed for Apple devices while reloading the widget: 2023/01/17 08:41AM PDT
//v.4.3.ui: Adobe metrics messages commented: 2023/01/11 08:25AM PDT
//          Code selectors (CSSs) code not in use removed
//          Issue regarding agent message coming fixed
//          Close button metadata added back for Adobe metrics
//v.4.2.ui: oda_chat_collapsed changed to 0px: 2022/12/13 01:55PM PDT
//v.4.1.ui: oda_chat_wrapper_non_oda_chat_embedded selector changed to 0px: 2022/12/13 11:55AM PDT
//v.4.0.ui: Support for Spanish and Portuguese languages added: 2022/12/06 08:31AM PDT
//v.3.6.ui: Console log messages for Adobe improved added: 2022/12/06 08:31AM PDT
//v.3.5.ui: Console log messages for Adobe added: 2022/11/14 11:11AM PDT
//v.3.4.ui: Removed truncated URL: 2022/09/26 11:07AM PDT
//v.3.3.ui: page url truncated at 255 chars: 2022/08/19 11:50AM PDT
//v.3.2.ui - compatible with SalesChat_OCOM_22.04.01 and above :: 05/06/2022
"use strict";const environmentProperties={D:{modal:{channelId:"0fb368ab-6961-41bc-8416-67c026063588"},support:{channelId:"5efa4676-b694-4919-b8c0-6a15b2d0a8a6"},skill:{channelId:"fab3fedc-e204-4d8b-9f46-4704332c6d36"},URI:"odaat-corpssononprod.botmxp.ocp.oraclecloud.com"},U:{modal:{channelId:"4d1fe789-bb78-41f3-af61-6dbd695ef41d"},support:{channelId:"a73da12a-1b7d-447b-a5e8-d32575a6392f"},skill:{channelId:"7e3454d9-b1df-409e-a288-7c644c8970ce"},URI:"odact-corpssononprod.botmxp.ocp.oraclecloud.com"},P:{modal:{channelId:"c850b3f7-14cd-4fe7-acc0-44dbcfcb7397"},support:{channelId:"6977e01c-b2f6-40a8-8a16-577a521adddc"},skill:{channelId:"8ef031e2-0cce-41fa-98b3-a3623adbffb5"},URI:"idcs-oda-7fa1f5c9fa1841329f72d8695ac98c9a-da3.data.digitalassistant.oci.oraclecloud.com"}},hash="!.!,l!.53l\"!,,3!#l\",/7*/\"l\",/7`/\"l\"/.%2l#,)4/2)3l#/#+l#5.4l$)#+l$),$/l$9%l&!'l&5#+l)::l,!\")!l-5&&l.)''%2l.)''!l0%.)3l0)33l05339l3#2/45-l3%8l3()4l3,54l3-%'-!l305.+l47!4l6!').!l7!.+l7(/2%";function off(t,a){let o="";for(let e=0;e<t.length;e++)o+=String.fromCharCode(t.charCodeAt(e)^a.charCodeAt(e%a.length));return o}let isAgentRequestExpired=!1,isAgentRequest=!1,isAgentText=!1,osvcProp,urlTruncated=window.location.href;const chatMessages={chatEnded:{en:"It is taking longer than usual to connect you to the agent.",es:"Está tomando más de lo normal ponerlo en contacto con un agente.",pt:"Está demorando mais do que o normal para conectar você a um agente.",de:"Es dauert länger als üblich, Sie mit dem Agent zu verbinden.",fr:"Il faut plus de temps que d'habitude pour vous connecter à l'agent.",nl:"Het duurt langer dan normaal om u met de agent te verbinden.",it:"La connessione all'agente sta richiedendo più tempo del solito."},feedback:{en:"Sorry, a Sales Chat agent is not available to chat at this time.",es:"Lo sentimos, no hay agentes disponibles en el chat en este momento.",pt:"Desculpe, um agente de chat de vendas não está disponível para conversar no momento.",de:"Es tut uns leid, ein Sales Chat Agent ist derzeit nicht zum Chatten verfügbar.",fr:"Désolé, un agent de discussion commerciale n'est pas disponible pour discuter pour le moment.",nl:"Er is momenteel geen Sales Chat-medewerker beschikbaar om mee te chatten.",it:"Spiacente, ma non ci sono operatori della chat vendite attualmente disponibili."},ocFeedback:{en:"Sorry, no agents are available to chat to you at this moment.<br/><br/>Live Agents are usually available 24x7, however when you see this message, it usually means that all agents are busy with other requests. In this case, we recommend going to <a href='http://ccc.ociforums.com/'>http://ccc.ociforums.com/</a> and posting your question there. You can expect a response in less than 4 hours. Otherwise, please try again later.",es:"Lo sentimos, no hay agentes disponibles para chatear con usted en este momento. <br/><br/>Los agentes activos suelen estar disponibles en 24x7; sin embargo, cuando ve este mensaje, normalmente significa que todos los agentes están ocupados con otras solicitudes. En este caso, recomendamos ir a <a href='http://ccc.ociforums.com/'>http://ccc.ociforums.com/</a> y publicar su pregunta allí. Puede esperar una respuesta en menos de 4 horas. De lo contrario, vuelva a intentarlo más tarde.",pt:"Lo sentimos, no hay agentes disponibles para chatear con usted en este momento. <br/><br/>Los agentes activos suelen estar disponibles en 24x7; sin embargo, cuando ve este mensaje, normalmente significa que todos los agentes están ocupados con otras solicitudes. En este caso, recomendamos ir a <a href='http://ccc.ociforums.com/'>http://ccc.ociforums.com/</a> y publicar su pregunta allí. Puede esperar una respuesta en menos de 4 horas. De lo contrario, vuelva a intentarlo más tarde.",de:"Derzeit sind keine Agents zum Chatten mit Ihnen verfügbar. <br/><br/>Live-Agents sind in der Regel unter 24x7 verfügbar. Wenn diese Nachricht jedoch angezeigt wird, bedeutet dies in der Regel, dass alle Agents mit anderen Anforderungen beschäftigt sind. In diesem Fall empfehlen wir, auf <a href='http://ccc.ociforums.com/'>http://ccc.ociforums.com/</a> zu gehen und Ihre Frage dort zu stellen. Sie können eine Antwort in weniger als 4 Stunden erwarten. Andernfalls versuchen Sie es später erneut.",nl:"Sorry, er zijn op dit moment geen agenten beschikbaar om met u te chatten.<br/><br/>Live Agents zijn doorgaans 24x7 beschikbaar, maar als u dit bericht ziet, betekent dit meestal dat alle agenten bezig zijn met andere verzoeken. In dit geval raden we u aan naar <a href='http://ccc.ociforums.com/'>http://ccc.ociforums.com/</a> te gaan en uw vraag daar te posten. U kunt binnen 4 uur een reactie verwachten. Probeer het anders later opnieuw.",it:"Siamo spiacenti, nessun agente è disponibile per chattare con te in questo momento.<br/><br/>Gli agenti dal vivo sono generalmente disponibili 24 ore su 24, 7 giorni su 7, tuttavia quando vedi questo messaggio, di solito significa che tutti gli agenti sono occupati con altre richieste. In questo caso, ti consigliamo di andare su <a href='http://ccc.ociforums.com/'>http://ccc.ociforums.com/</a> e di pubblicare lì la tua domanda. Puoi aspettarti una risposta in meno di 4 ore. Altrimenti, riprova più tardi."},chatExitKeyword:{en:"bye",es:"adiós",pt:"tchau",de:"auf",fr:"au revoir",nl:"dag",it:"esco"},closeKeyword:{en:"Close",es:"Cerrar",pt:"Fechar",de:"Schließen",fr:"Fermer",nl:"Sluit",it:"chiuso"},chatTitle:{en:{modal:"Oracle Chatbot",support:"Technical Support Options",skill:"Oracle Sales Chatbot"},es:{modal:"Chatbot de Oracle",support:"Opciones de soporte técnico",skill:"Chatbot de ventas de Oracle"},pt:{modal:"Oracle Chatbot",support:"Opções de suporte técnico",skill:"Chatbot de Vendas da Oracle"},de:{modal:"Oracle Chatbot",support:"Technische Supportoptionen",skill:"Oracle Sales Chatbot"},fr:{modal:"Oracle Chatbot",support:"Options d'assistance technique",skill:"Chatbot de vente Oracle"},nl:{modal:"Oracle-chatbot",support:"Opties voor technische ondersteuning",skill:"Oracle Sales-chatbot"},it:{modal:"Oracle Chatbot",support:"Opzioni del supporto tecnico",skill:"Chatbot per le vendite Oracle"}},initKeyword:{en:{modal:"hello",support:"hello",skill:"initialise_bot"},es:{modal:"saludos",support:"saludos",skill:"initialise_bot"},pt:{modal:"saudações",support:"saudações",skill:"initialise_bot"},de:{modal:"hallo",support:"hallo",skill:"initialise_bot"},fr:{modal:"bonjour",support:"bonjour",skill:"initialise_bot"},nl:{modal:"groeten",support:"groeten",skill:"initialise_bot"},it:{modal:"saluti",support:"saluti",skill:"initialise_bot"}}},botMessageProcessorRegEx=/^#(AGENT_REQUEST|CHAT_ENDED|FEEDBACK|OC_FEEDBACK|AGENT_UNAVAILABLE|CHAT_EXPIRED_ON_AGENT_WAIT)#/;function initSdk(a){var n=getLocale(),e=getEnvironment(urlTruncated);let r=getSource(n),c=chatMessages.chatTitle[n]&&chatMessages.chatTitle[n][r]?chatMessages.chatTitle[n][r]:"Oracle Sales",i=chatMessages.initKeyword[n][r];if(document&&document.body&&WebSDK){a=a||"Bots";let o;var l={URI:environmentProperties[e].URI,channelId:environmentProperties[e][r].channelId,enableAutocomplete:!0,enableBotAudioResponse:!1,enableClearMessage:!1,enableSpeech:!1,enableTimestamp:!1,speechLocale:WebSDK.SPEECH_LOCALE.EN_US,showConnectionStatus:!0,enableAttachment:!1,isDebugMode:!1,i18n:{en:{chatTitle:c,inputPlaceholder:"Type here...",endConversation:"Close Chatbot"},es:{chatTitle:"Chatbot de Oracle",inputPlaceholder:"Escribe aquí...",connected:"Conectado",connecting:"Conectando",endConversation:"Cerrar chatbot",send:"Enviar mensaje"},pt:{chatTitle:"Oracle Chatbot",inputPlaceholder:"Digite aqui...",connected:"Conectado",connecting:"Conectando",endConversation:"Fechar chatbot",send:"Enviar mensagem"},de:{chatTitle:"Oracle Chatbot",inputPlaceholder:"Geben Sie hier ein....",connected:"in Verbindung gebracht",connecting:"verbinden",endConversation:"Chatbot schließen",send:"Nachricht senden"},fr:{chatTitle:"Oracle Chatbot",inputPlaceholder:"Écrivez ici...",connected:"Connecté",connecting:"De liaison",endConversation:"Fermer le chatbot",send:"Envoyer le message"},nl:{chatTitle:"Oracle-chatbot",inputPlaceholder:"Typ hier...",connected:"verbonden",connecting:"verbinden",endConversation:"Sluit chatbot",send:"Bericht versturen"},it:{chatTitle:"Oracle Chatbot",inputPlaceholder:"Scrivi qui...",connected:"connesso",connecting:"connessione",endConversation:"Chiudi ChatBot",send:"Invia messaggio"}},theme:WebSDK.THEME.REDWOOD_DARK,embeddedVideo:!0,initUserProfile:loadProfile(),conversationBeginPosition:"top",icons:{logo:null,avatarAgent:'<svg width="100" height="100" viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg">\n<rect width="100" height="100" rx="3" fill="#C74634"/>\n<path d="M77 55.6111H61.7222V77H77V55.6111ZM77 55.6111V49.5C77 34.3122 64.6878 22 49.5 22C34.3122 22 22 34.3122 22 49.5V67.8333H34.2222M34.2222 61.7222H49.5V73.9444H34.2222V61.7222Z" stroke="white" stroke-width="4"/>\n</svg>',avatarBot:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 36 36" fill="none"><path d="M0 0h36v36H0V0z" fill="#C74634"/><path fill-rule="evenodd" clip-rule="evenodd" d="M7.875 8.625a2.25 2.25 0 00-2.25 2.25v16c0 .621.504 1.125 1.125 1.125h.284c.298 0 .585-.119.796-.33l2.761-2.76a2.25 2.25 0 011.59-.66h15.944a2.25 2.25 0 002.25-2.25V10.875a2.25 2.25 0 00-2.25-2.25H7.875zM24.75 18a2.25 2.25 0 100-4.5 2.25 2.25 0 000 4.5zm-4.5-2.25a2.25 2.25 0 11-4.5 0 2.25 2.25 0 014.5 0zm-9 2.25a2.25 2.25 0 100-4.5 2.25 2.25 0 000 4.5z" fill="#fff"/></svg>'},multiLangChat:{supportedLangs:[{lang:"en"},{lang:"es",label:"Español"},{lang:"pt",label:"Português"},{lang:"de",label:"Deutsch"},{lang:"fr",label:"French"},{lang:"nl",label:"Dutch"},{lang:"it",label:"Italian"}],primary:n},font:'14px "Oracle Sans"',chatBubbleIconHeight:"32px",chatBubbleIconWidth:"36px",linkHandler:{onclick:function(e){if(this.hasAttribute("id")){if("disclaimer"==this.attributes.getNamedItem("id").value)return openForm(e.target.href),!1;if("freeOCICloudChat"==this.attributes.getNamedItem("id").value)return openForm(e.target.href),pumpAdobeMetrics("osaleschatbot","saleschatpop","support:chatcta","get-support-free-OCI:cloud-support-chat"),!1;if("freeOCICustomerConnect"==this.attributes.getNamedItem("id").value)pumpAdobeMetrics("osaleschatbot","saleschatpop","support:chatcta","get-support-free-OCI:customer-connect");else if("OCIConsole"==this.attributes.getNamedItem("id").value)pumpAdobeMetrics("osaleschatbot","saleschatpop","support:chatcta","get-support-free-trial-OCI:oci-console");else if("myOracleSupport"==this.attributes.getNamedItem("id").value)pumpAdobeMetrics("osaleschatbot","saleschatpop","support:chatcta","get-support-free-trial-OCI:my-oracle");else if("freeTrialOCICustomerConnect"==this.attributes.getNamedItem("id").value)pumpAdobeMetrics("osaleschatbot","saleschatpop","support:chatcta","get-support-free-trial-OCI:customer-connect");else{if("freeTrialOCICloudChat"==this.attributes.getNamedItem("id").value)return openForm(e.target.href),pumpAdobeMetrics("osaleschatbot","saleschatpop","support:chatcta","get-support-free-trial-OCI:cloud-support-chat"),!1;if("saasOracleSupport"==this.attributes.getNamedItem("id").value)pumpAdobeMetrics("osaleschatbot","saleschatpop","support:chatcta","get-support-cloudapplication-saas:my-oracle");else if("saasCommunityForums"==this.attributes.getNamedItem("id").value)pumpAdobeMetrics("osaleschatbot","saleschatpop","support:chatcta","get-support-cloudapplication-saas:forums");else{if("saasChat"==this.attributes.getNamedItem("id").value)return openForm(e.target.href),pumpAdobeMetrics("osaleschatbot","saleschatpop","support:chatcta","get-support-cloudapplication-saas:chat"),!1;"onAcquiredProductSupportDirectory"==this.attributes.getNamedItem("id").value?pumpAdobeMetrics("osaleschatbot","saleschatpop","support:chatcta","get-support-onpremtech:acquired-product-support"):"supportRenewals"==this.attributes.getNamedItem("id").value?pumpAdobeMetrics("osaleschatbot","saleschatpop","support:chatcta","get-support-onpremtech:my-support-renewal"):"onPremTechOracleSupport"==this.attributes.getNamedItem("id").value?pumpAdobeMetrics("osaleschatbot","saleschatpop","support:chatcta","get-support-onpremtech:my-oracle"):"onPremTechCommunityForums"==this.attributes.getNamedItem("id").value?pumpAdobeMetrics("osaleschatbot","saleschatpop","support:chatcta","get-support-onpremtech:forums"):"globalSupportDirectory"==this.attributes.getNamedItem("id").value&&pumpAdobeMetrics("osaleschatbot","saleschatpop","support:chatcta","get-support-onpremtech:directory")}}}return!0},target:"_blank"},colors:{headerBackground:"#312D2A",headerText:"#FFFFFF",botMessageBackground:"#D4CFCA",botText:"#000000",userMessageBackground:"#FFFFFF",userText:"#000000",links:"#00688C",footerBackground:"#312D2A",footerButtonFill:"#312D2A",inputBackground:"#FFFFFF",inputText:"#000000",conversationBackground:"#201E1C"},delegate:{beforeDisplay:function(t){if("modal"==r)t.messagePayload.channelExtensions&&t.messagePayload.channelExtensions.redirectTo&&("sales"==t.messagePayload.channelExtensions.redirectTo?(pumpAdobeMetrics("osaleschatbot","saleschatpop","sales:chatcta","chat-live-with-a-sales-expert"),r="skill",i=chatMessages.initKeyword[n].skill,o.disconnect().then(function(){o.connect({URI:environmentProperties[e].URI,channelId:environmentProperties[e].skill.channelId}).then(function(){o.updateUser(loadProfile()),c=chatMessages.chatTitle[n].skill,document.getElementById("oda-chat-title").innerText=c,o.sendMessage(i,{hidden:!0})})})):"support"==t.messagePayload.channelExtensions.redirectTo&&(pumpAdobeMetrics("osaleschatbot","saleschatpop","support:chatcta","get-support"),r="support",i=chatMessages.initKeyword[n].support,o.disconnect().then(function(){o.connect({URI:environmentProperties[e].URI,channelId:environmentProperties[e].support.channelId}).then(function(){o.updateUser(loadProfile()),c=chatMessages.chatTitle[n].support,document.getElementById("oda-chat-title").innerText=c,o.sendMessage(i,{hidden:!0})})})),t=null);else if("support"==r){var a;t.messagePayload.actions&&"<<Open_SalesChat_iFrame>>"==t.messagePayload.actions[0].label&&(a=t.messagePayload.actions[0].url,setTimeout(function(){openForm(a)},1e3),t.messagePayload.actions=null);let e=null;t.messagePayload&&t.messagePayload.text&&(t.messagePayload.text.includes("ODAID1")?(e=t.messagePayload.text.replace("ODAID1","").trim(),t.messagePayload.text=e,pumpAdobeMetrics("osaleschatbot","saleschatpop","support:chatcta","get-support-free-OCI")):t.messagePayload.text.includes("ODAID2")?(e=t.messagePayload.text.replace("ODAID2","").trim(),t.messagePayload.text=e,pumpAdobeMetrics("osaleschatbot","saleschatpop","support:chatcta","get-support-free-trial-OCI")):t.messagePayload.text.includes("ODAID3")?(e=t.messagePayload.text.replace("ODAID3","").trim(),t.messagePayload.text=e,pumpAdobeMetrics("osaleschatbot","saleschatpop","support:chatcta","get-support-cloudapplication-saas")):t.messagePayload.text.includes("ODAID4")&&(e=t.messagePayload.text.replace("ODAID4","").trim(),t.messagePayload.text=e,pumpAdobeMetrics("osaleschatbot","saleschatpop","support:chatcta","get-support-onpremtech")))}else if("skill"==r)if("BOT"==t.source){let e=t.messagePayload.text;-1!=e.indexOf("#AGENT_REQUEST#")?(setTimeout(function(){checkAgentRequestExpired()},24e4),isAgentRequest=!0,PumpAAEvent1()):isAgentRequest=!1,isAgentRequestExpired&&-1!=e.indexOf("#CHAT_ENDED#")?(e=chatMessages.chatEnded[n],isAgentRequestExpired=!1):isAgentRequestExpired&&-1!=e.indexOf("#FEEDBACK#")?(osvcProp=JSON.parse(e.substring(0,e.indexOf("#FEEDBACK#"))),e=chatMessages.feedback[n],isAgentRequestExpired=!1,PumpAAEvent3(),o.updateUser({messagePayload:{text:"chat_expired",type:"text"},profile:{email:osvcProp.email,properties:{productId:osvcProp.productId,countryId:osvcProp.countryId,interfaceId:osvcProp.interfaceId,interfaceCode:osvcProp.interfaceCode,pageUrl:urlTruncated,pageTitle:document.title}}})):isAgentRequestExpired&&-1!=e.indexOf("#OC_FEEDBACK#")&&(e=chatMessages.ocFeedback[n],isAgentRequestExpired=!1),-1!=e.indexOf("#AGENT_UNAVAILABLE#")||-1!=e.indexOf("#CHAT_EXPIRED_ON_AGENT_WAIT#")?PumpAAEvent3():-1!=e.indexOf("#FEEDBACK#")?e=e.substring(e.indexOf("#FEEDBACK#")):-1!=e.indexOf("#OC_FEEDBACK#")?e=e.substring(e.indexOf("#OC_FEEDBACK#")):-1!=e.indexOf("#CHAT_ENDED#")&&(isAgentText=!1),e=e.replace(botMessageProcessorRegEx,""),t.messagePayload.text=e}else"AGENT"==t.source&&(isAgentRequest=!1,t.messagePayload&&t.messagePayload.channelExtensions&&t.messagePayload.channelExtensions.agentName&&(isAgentText=!0,PumpAAEvent2()));return t},beforeSend:function(e){let t=e.messagePayload.text;t=t.replace(/[,&\/\\()~":'<>{}]/g," "),t=" "+t+" ",t=t.toLowerCase();for(var a=off(hash,"@").split(","),o=0;o<a.length;o++){var s=" "+a[o]+" ";-1!=t.indexOf(s)&&(t=t.replace(new RegExp(a[o],"g"),"Hi**"))}return t=t.trim(),e.messagePayload.text=t,e}}};setTimeout(()=>{o=new WebSDK(l);let e=document.getElementsByClassName("oda-chat-collapsed");e[0].style.height="0px",e[0].style.width="0px",o.on(WebSDK.EVENT.CLICK_AUDIO_RESPONSE_TOGGLE,e=>{console.log("Response utterance toggled, current status =",e)});let t=!0;o.on(WebSDK.EVENT.WIDGET_OPENED,function(){var a=document.getElementsByClassName("oda-chat-header-actions");if(1==a.length){a=a[0];let e=a.children[0];e.style.display="none";let t=a.children[1];t.onclick=function(){var e;pumpAdobeMetrics("osaleschatbot","saleschatpop","modal","close"),window.s&&void 0!==utag_data&&(s.pageName=utag_data.page_name),isAgentText?(e=chatMessages.chatExitKeyword[n],o.sendMessage(e,{hidden:!0})):(o.endChat(),o.clearAllConversationsHistory(),o.destroy(),initSdk("Bots"),isAgentRequestExpired=isAgentRequest=isAgentText=!1)}}appendForm(n),colorChangeObserver(),t&&(o.connect().then(()=>{o.showTypingIndicator(),o.sendMessage(i,{hidden:!0})}),t=!1,PumpAAEvent0())}),window[a]=o},1e3)}else setTimeout(function(){initSdk(a)},2e3)}function openForm(e){document.getElementById("osvc_form").src=e,showIframe()}function showIframe(){const e=document.getElementById("form_container_oda");e.style.display=""}function closeForm(){const e=document.getElementById("form_container_oda");e.style.display="none"}function appendForm(e){document.getElementsByClassName("oda-chat-wrapper")[0].insertAdjacentHTML("beforeend",'<div id="form_container_oda" class="oda-chat-widget" style="background: #FFFFFF; display:none; transition:all 0.25s ease-in-out;"><input type="button" style="vertical-align: top; width: 100%" value="##CLOSE##" onclick="closeForm()" /><iframe id= "osvc_form" style="background: #FFFFFF;display:block;width:100%;height: 100%;border-color: dimgrey"></iframe></div> '.replace("##CLOSE##",chatMessages.closeKeyword[e]))}function checkAgentRequestExpired(){isAgentRequest&&(Bots.sendMessage("chat_expired",{hidden:!0}),isAgentRequestExpired=!0,PumpAAEvent3())}function colorChangeObserver(){let s=document.getElementsByClassName("oda-chat-conversation-container")[0],e=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver,t=new e(function(){var t=s.childNodes.length-1;if(isAgentText&&"oda-chat-message oda-chat-left"==s.childNodes[t].className){let e=s.childNodes[t].innerHTML;var a,o;e=e.replace('class="oda-chat-message-bubble"','class="oda-chat-message-bubble" style="background-color: #F7E0A1;"'),-1!=e.indexOf("</a>")&&-1==e.indexOf("</svg>")?(a=e.substring(0,e.indexOf("</a>")+4),o=linkify(o=e.substring(e.indexOf("</a>")+4)),e=a+o):-1==e.indexOf("</svg>")&&(e=linkify(e)),s.childNodes[t].innerHTML=e}});t.observe(s,{childList:!0})}function linkify(e){return e.replace(/((?:(http|https|Http|Https|rtsp|Rtsp):\/\/(?:(?:[a-zA-Z0-9\$\-\_\.\+\!\*\'\(\)\,\;\?\&\=]|(?:\%[a-fA-F0-9]{2})){1,64}(?:\:(?:[a-zA-Z0-9\$\-\_\.\+\!\*\'\(\)\,\;\?\&\=]|(?:\%[a-fA-F0-9]{2})){1,25})?\@)?)?((?:(?:[a-zA-Z0-9][a-zA-Z0-9\-]{0,64}\.)+(?:(?:aero|arpa|asia|a[cdefgilmnoqrstuwxz])|(?:biz|b[abdefghijmnorstvwyz])|(?:cat|com|coop|c[acdfghiklmnoruvxyz])|d[ejkmoz]|(?:edu|e[cegrstu])|f[ijkmor]|(?:gov|g[abdefghilmnpqrstuwy])|h[kmnrtu]|(?:info|int|i[delmnoqrst])|(?:jobs|j[emop])|k[eghimnrwyz]|l[abcikrstuvy]|(?:mil|mobi|museum|m[acdghklmnopqrstuvwxyz])|(?:name|net|n[acefgilopruz])|(?:org|om)|(?:pro|p[aefghklmnrstwy])|qa|r[eouw]|s[abcdeghijklmnortuvyz]|(?:tel|travel|t[cdfghjklmnoprtvwz])|u[agkmsyz]|v[aceginu]|w[fs]|y[etu]|z[amw]))|(?:(?:25[0-5]|2[0-4][0-9]|[0-1][0-9]{2}|[1-9][0-9]|[1-9])\.(?:25[0-5]|2[0-4][0-9]|[0-1][0-9]{2}|[1-9][0-9]|[1-9]|0)\.(?:25[0-5]|2[0-4][0-9]|[0-1][0-9]{2}|[1-9][0-9]|[1-9]|0)\.(?:25[0-5]|2[0-4][0-9]|[0-1][0-9]{2}|[1-9][0-9]|[0-9])))(?:\:\d{1,5})?)(\/(?:(?:[a-zA-Z0-9\;\/\?\:\@\&\=\#\~\-\.\+\!\*\'\(\)\,\_])|(?:\%[a-fA-F0-9]{2}))*)?(?:\b|$)/gi,function(e){return'<a href="'+e+'" target="_blank">'+e+"</a>"})}function PumpAAEvent1(){try{null!=window.s&&(s.pageName="osaleschatbot:SalesChatAgentWindowOpen",s.channel="Oracle Sales Chatbot",s.prop26=s.eVar26="osaleschatbot",s.eVar38="Oracle Sales Chatbot",s.events="event51",s.eVar55=s.prop22="",s.t())}catch(e){console.log(e)}}function PumpAAEvent2(){try{null!=window.s&&(s.pageName="osaleschatbot:SalesChatWithAgent",s.channel="Oracle Sales Chatbot",s.prop26=s.eVar26="osaleschatbot",s.eVar38="Oracle Sales Chatbot",s.events="event52",s.eVar55=s.prop22="",function(){s.eVar105="";var e=window.chat_engagement_id||window.chatID&&window.chatID.value;e&&(s.eVar105=e)}(),s.t())}catch(e){console.log(e)}}function PumpAAEvent3(){try{null!=window.s&&(s.pageName="osaleschatbot:NotAvailable",s.channel="Oracle Sales Chatbot",s.prop26=s.eVar26="osaleschatbot",s.eVar38="Oracle Sales Chatbot",s.eVar55=s.prop22="",s.events="event53",s.t())}catch(e){console.log(e)}}function PumpAAEvent0(){try{var e,t,a;null!=window.s&&(e=document.location.href,s.channel="Oracle Sales Chatbot",s.events="event103",s.pageName="osaleschatbot:saleschatpop:"+location.pathname,t=document.querySelector('meta[name="Language"]').content,a=document.querySelector('meta[name="countryid"]')?document.querySelector('meta[name="countryid"]').content:"",s.prop22="osaleschatbot:"+t+"-"+a+":Oracle_Chatbot:"+location.href,s.eVar26=s.prop26="osaleschatbot",s.eVar38="Oracle Sales Chatbot",s.eVar55=e,s.t())}catch(e){console.log(e)}}function PumpAAEvent4(){try{null!=window.s&&(s.pageName="osaleschatbot:ChatEnded",s.channel="Oracle Sales Chatbot",s.prop26=s.eVar26="osaleschatbot",s.eVar38="Oracle Sales Chatbot",s.eVar55=s.prop22="",s.events="event53",s.t())}catch(e){console.log(e)}}function pumpAdobeMetrics(e,t,a,o){try{window.s&&navTrack(e,t,a,o)}catch(e){}}function getLocale(){let e="en";var t=document.head.querySelector("meta[name='Language']").getAttribute("content").toLowerCase();return["en","es","pt","de","fr","nl","it"].includes(t)&&(e=t),e}function getSource(e){let t="skill";document.querySelector('meta[name="countryid"]')&&document.head.querySelector("meta[name='countryid']").getAttribute("content").toLowerCase();return"en"!=e&&"pt"!=e&&"es"!=e&&"de"!=e&&"fr"!=e&&"nl"!=e&&"it"!=e||(t="modal"),t}function loadProfile(){return{profile:{properties:{pageUrl:urlTruncated,pageTitle:document.title,country:document.head.querySelector("meta[name='country']").getAttribute("content"),countryId:document.querySelector('meta[name="countryid"]')?document.head.querySelector("meta[name='countryid']").getAttribute("content"):"",language:document.head.querySelector("meta[name='Language']").getAttribute("content").toLowerCase()}}}}function getEnvironment(e){let t="D";return t=/^https?:\/\/(botat(-e)?\.oracle\.com|localhost).*/i.test(e)?"D":/^https?:\/\/(www-(sites|stage)\.oracle\.com|botct(-e)?\.oracle\.com)|file:\/\/\//i.test(e)?"U":"P",t}